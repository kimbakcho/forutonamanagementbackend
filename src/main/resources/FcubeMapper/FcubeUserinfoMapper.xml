<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.management.forutona.FcubeDao.FcubeUserinfoMapper">
  <resultMap id="BaseResultMap" type="com.management.forutona.FcubeDto.FcubeUserinfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="Uid" jdbcType="VARCHAR" property="uid" />
    <result column="NickName" jdbcType="VARCHAR" property="nickName" />
    <result column="ProfilePicktureUrl" jdbcType="VARCHAR" property="profilePicktureUrl" />
    <result column="Sex" jdbcType="INTEGER" property="sex" />
    <result column="AgeDate" jdbcType="DATE" property="ageDate" />
    <result column="Email" jdbcType="VARCHAR" property="email" />
    <result column="ForutonaAgree" jdbcType="TINYINT" property="forutonaAgree" />
    <result column="PrivateAgree" jdbcType="TINYINT" property="privateAgree" />
    <result column="PositionAgree" jdbcType="TINYINT" property="positionAgree" />
    <result column="MartketingAgree" jdbcType="TINYINT" property="martketingAgree" />
    <result column="AgeLimitAgree" jdbcType="TINYINT" property="ageLimitAgree" />
    <result column="SnsService" jdbcType="VARCHAR" property="snsService" />
    <result column="Phonenumber" jdbcType="VARCHAR" property="phonenumber" />
    <result column="IsoCode" jdbcType="VARCHAR" property="isoCode" />
    <result column="latitude" jdbcType="DOUBLE" property="latitude" />
    <result column="longitude" jdbcType="DOUBLE" property="longitude" />
    <result column="PositionUpdateTime" jdbcType="TIMESTAMP" property="positionUpdateTime" />
    <result column="UserLevel" jdbcType="DOUBLE" property="userLevel" />
    <result column="ExpPoint" jdbcType="DOUBLE" property="expPoint" />
    <result column="FCMtoken" jdbcType="VARCHAR" property="FCMtoken" />
    <result column="JoinTime" jdbcType="TIMESTAMP" property="joinTime" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from UserInfo
    where Uid = #{uid,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.management.forutona.FcubeDto.FcubeUserinfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into UserInfo (Uid, NickName, ProfilePicktureUrl, 
      Sex, AgeDate, Email, ForutonaAgree, 
      PrivateAgree, PositionAgree, MartketingAgree, 
      AgeLimitAgree, SnsService, Phonenumber, 
      IsoCode, latitude, longitude, 
      PositionUpdateTime, UserLevel, ExpPoint, 
      FCMtoken, JoinTime)
    values (#{uid,jdbcType=VARCHAR}, #{nickName,jdbcType=VARCHAR}, #{profilePicktureUrl,jdbcType=VARCHAR}, 
      #{sex,jdbcType=INTEGER}, #{ageDate,jdbcType=DATE}, #{email,jdbcType=VARCHAR}, #{forutonaAgree,jdbcType=TINYINT}, 
      #{privateAgree,jdbcType=TINYINT}, #{positionAgree,jdbcType=TINYINT}, #{martketingAgree,jdbcType=TINYINT}, 
      #{ageLimitAgree,jdbcType=TINYINT}, #{snsService,jdbcType=VARCHAR}, #{phonenumber,jdbcType=VARCHAR}, 
      #{isoCode,jdbcType=VARCHAR}, #{latitude,jdbcType=DOUBLE}, #{longitude,jdbcType=DOUBLE}, 
      #{positionUpdateTime,jdbcType=TIMESTAMP}, #{userLevel,jdbcType=DOUBLE}, #{expPoint,jdbcType=DOUBLE}, 
      #{FCMtoken,jdbcType=VARCHAR}, #{joinTime,jdbcType=TIMESTAMP})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.management.forutona.FcubeDto.FcubeUserinfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update UserInfo
    set NickName = #{nickName,jdbcType=VARCHAR},
      ProfilePicktureUrl = #{profilePicktureUrl,jdbcType=VARCHAR},
      Sex = #{sex,jdbcType=INTEGER},
      AgeDate = #{ageDate,jdbcType=DATE},
      Email = #{email,jdbcType=VARCHAR},
      ForutonaAgree = #{forutonaAgree,jdbcType=TINYINT},
      PrivateAgree = #{privateAgree,jdbcType=TINYINT},
      PositionAgree = #{positionAgree,jdbcType=TINYINT},
      MartketingAgree = #{martketingAgree,jdbcType=TINYINT},
      AgeLimitAgree = #{ageLimitAgree,jdbcType=TINYINT},
      SnsService = #{snsService,jdbcType=VARCHAR},
      Phonenumber = #{phonenumber,jdbcType=VARCHAR},
      IsoCode = #{isoCode,jdbcType=VARCHAR},
      latitude = #{latitude,jdbcType=DOUBLE},
      longitude = #{longitude,jdbcType=DOUBLE},
      PositionUpdateTime = #{positionUpdateTime,jdbcType=TIMESTAMP},
      UserLevel = #{userLevel,jdbcType=DOUBLE},
      ExpPoint = #{expPoint,jdbcType=DOUBLE},
      FCMtoken = #{FCMtoken,jdbcType=VARCHAR},
      JoinTime = #{joinTime,jdbcType=TIMESTAMP}
    where Uid = #{uid,jdbcType=VARCHAR}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select Uid, NickName, ProfilePicktureUrl, Sex, AgeDate, Email, ForutonaAgree, PrivateAgree, 
    PositionAgree, MartketingAgree, AgeLimitAgree, SnsService, Phonenumber, IsoCode, 
    latitude, longitude, PositionUpdateTime, UserLevel, ExpPoint, FCMtoken, JoinTime
    from UserInfo
    where Uid = #{uid,jdbcType=VARCHAR}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select Uid, NickName, ProfilePicktureUrl, Sex, AgeDate, Email, ForutonaAgree, PrivateAgree, 
    PositionAgree, MartketingAgree, AgeLimitAgree, SnsService, Phonenumber, IsoCode, 
    latitude, longitude, PositionUpdateTime, UserLevel, ExpPoint, FCMtoken, JoinTime
    from UserInfo
  </select>

  <select id="selectlistbysearch" parameterType="com.management.forutona.FcubeDto.FcubeUserSearchdto" resultMap="BaseResultMap">
    select Uid, NickName, ProfilePicktureUrl, Sex, AgeDate, Email, ForutonaAgree, PrivateAgree,
    PositionAgree, MartketingAgree, AgeLimitAgree, SnsService, Phonenumber, IsoCode,
    latitude, longitude, PositionUpdateTime, UserLevel, ExpPoint, FCMtoken, JoinTime
    from UserInfo
    <where>
      <if test="searchtype != '' and searchtext != '' ">
        <if test="searchtype == 'nickName' ">
          NickName LIKE CONCAT(#{searchtext},'%')
        </if>
        <if test="searchtype == 'email'">
          Email LIKE CONCAT(#{searchtext},'%')
        </if>
        <if test="searchtype == 'phonenumber'">
          Phonenumber LIKE CONCAT(#{searchtext},'%')
        </if>
      </if>
    </where>
    <if test="sortBy != null">
      ORDER BY ${sortBy}
    </if>
    <if test="sortBy != null and  sortDesc == 'true'">
      desc
    </if>
    <if test=" sortBy != null and sortDesc == 'false'">
      asc
    </if>
    Limit #{limit} OFFSET #{offset}
  </select>
  <select id="selectFcubeUserinfolength" parameterType="com.management.forutona.FcubeDto.FcubeUserSearchdto" resultType="java.lang.Integer">
    select count(*) FROM UserInfo
    <where>
      <if test="searchtype != '' and searchtext != '' ">
        <if test="searchtype == 'nickName' ">
          NickName LIKE CONCAT(#{searchtext},'%')
        </if>
        <if test="searchtype == 'email'">
          Email LIKE CONCAT(#{searchtext},'%')
        </if>
        <if test="searchtype == 'phonenumber'">
          Phonenumber LIKE CONCAT(#{searchtext},'%')
        </if>
      </if>
    </where>
  </select>
</mapper>